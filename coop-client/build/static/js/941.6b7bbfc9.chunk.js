"use strict";(self.webpackChunkshopdunk=self.webpackChunkshopdunk||[]).push([[941],{4941:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var c=n(1413),a=n(9439),r=n(2791),o=n(1134),i=n(9544),s=n(9487),u=n(2027),l=n(5157),d=n(184),f=function(e){var t=e.onChange,n=(0,o.cI)(l.tS);return(0,d.jsx)(o.RV,(0,c.Z)((0,c.Z)({},n),{},{children:(0,d.jsx)(i.Z,{title:"T\xecm ki\u1ebfm",onSubmit:function(e){var n;e.search=null===(n=e.search)||void 0===n?void 0:n.trim(),t(e)},colSize:4,onClear:function(){return n.reset(l.tS),void t(l.tS)},actions:[{title:"T\u1eeb kh\xf3a",component:(0,d.jsx)(s.Z,{field:"search",placeholder:"Nh\u1eadp n\u1ed9i dung, m\xf4 t\u1ea3 qu\xe0 t\u1eb7ng",maxLength:250})},{title:"Ng\xe0y t\u1ea1o",component:(0,d.jsx)(u.Z,{allowClear:!0,fieldStart:"created_date_from",fieldEnd:"created_date_to",placeholder:["T\u1eeb ng\xe0y","\u0110\u1ebfn ng\xe0y"],format:"DD/MM/YYYY"})}]})}))},g=n(4165),m=n(5861),_=n(9434),h=n(8356),p=n(1453),x=n(7544),b=function(e){var t,n=e.loading,c=e.data,a=e.totalPages,o=e.itemsPerPage,i=e.page,s=e.totalItems,u=e.onChangePage,l=e.onRefresh,f=e.exportExcel,b=(0,_.I0)(),v=(0,r.useMemo)((function(){return[{header:"STT",classNameHeader:"cb_text_center",classNameBody:"cb_text_center",formatter:function(e,t){return(0,d.jsx)("span",{className:"cb_text_wrap",children:t+1})}},{header:"N\u1ed9i dung qu\xe0 t\u1eb7ng",classNameHeader:"cb_text_center",accessor:"gift_content"},{header:"\u0110\u01a1n v\u1ecb nh\u1eadn",classNameHeader:"cb_text_center",accessor:"affiliate_unit_name"},{header:"Ng\u01b0\u1eddi t\u1eb7ng",classNameHeader:"cb_text_center",accessor:"giver_user_name"},{header:"Ng\xe0y t\u1eb7ng",accessor:"gift_date",classNameHeader:"cb_text_center",classNameBody:"cb_text_center"},{header:"Ng\u01b0\u1eddi t\u1ea1o",accessor:"created_fullname",classNameHeader:"cb_text_center",classNameBody:"cb_text_center"},{header:"Ng\xe0y t\u1ea1o",accessor:"created_at",classNameHeader:"cb_text_center",classNameBody:"cb_text_center"}]}),[]),Z=(0,r.useCallback)((function(e){return(t=t||(0,m.Z)((0,g.Z)().mark((function e(t){return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.Ee)(t);case 2:l();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}),[l]),C=(0,r.useMemo)((function(){return[{globalAction:!0,icon:"fi fi-rr-inbox-out",type:"success",content:"Xu\u1ea5t excel",outline:!0,onClick:f},{globalAction:!0,icon:"ti-plus",type:"success",content:"Th\xeam m\u1edbi",onClick:function(){return window._$g.rdr("gift/add")}},{icon:"ti-write",color:"blue",title:"S\u1eeda",onClick:function(e){window._$g.rdr("gift/edit/".concat(null===e||void 0===e?void 0:e.gift_id))}},{icon:"ti-eye",color:"green",title:"Chi ti\u1ebft",onClick:function(e){window._$g.rdr("gift/detail/".concat(null===e||void 0===e?void 0:e.gift_id))}},{icon:"fi ti-trash",color:"red",title:"X\xf3a",onClick:function(e,t){return b((0,h.SS)(["B\u1ea1n c\xf3 th\u1ef1c s\u1ef1 mu\u1ed1n x\xf3a?","B\u1ea1n s\u1ebd m\u1ea5t d\u1eef li\u1ec7u n\xe0y v\xe0 c\xe1c d\u1eef li\u1ec7u li\xean quan."],(function(){return Z([e.gift_id])})))}}]}),[b,Z,f]);return(0,d.jsx)(x.Z,{loading:n,columns:v,data:c,actions:C,totalPages:a,itemsPerPage:o,page:i,totalItems:s,onChangePage:u})},v=n(4238),Z=n(2426),C=n.n(Z),N=function(){var e=(0,r.useState)(v.Tb),t=(0,a.Z)(e,2),n=t[0],o=t[1],i=(0,r.useState)(v.U1),s=(0,a.Z)(i,2),u=s[0],l=s[1],g=(0,r.useState)(!0),m=(0,a.Z)(g,2),_=m[0],h=m[1],x=u.items,Z=u.itemsPerPage,N=u.page,w=u.totalItems,k=u.totalPages,y=(0,r.useCallback)((function(){h(!0),(0,p.gp)(n).then(l).finally((function(){h(!1)}))}),[n]);(0,r.useEffect)(y,[y]);return(0,d.jsxs)("div",{class:"cb_main_wrapp",children:[(0,d.jsx)(f,{onChange:function(e){o((function(t){return(0,c.Z)((0,c.Z)({},t),e)}))}}),(0,d.jsx)(b,{onChangePage:function(e){o((0,c.Z)((0,c.Z)({},n),{},{page:e}))},exportExcel:function(){(0,p.rD)().then((function(e){var t=window.URL.createObjectURL(new Blob([null===e||void 0===e?void 0:e.data])),n=document.createElement("a");n.href=t;var c=C()().format("DDMMYYYY");n.setAttribute("download","gift_".concat(c,".xlsx")),document.body.appendChild(n),n.click()})).catch((function(e){v.CF.error("L\u1ed7i xu\u1ea5t t\u1eadp tin.")}))},data:x,totalPages:k,itemsPerPage:Z,page:N,totalItems:w,loading:_,onRefresh:y})]})}},1453:function(e,t,n){n.d(t,{Ee:function(){return l},FO:function(){return i},Ue:function(){return s},Vx:function(){return u},gp:function(){return o},rD:function(){return d}});var c=n(1413),a=n(3326),r="/gift",o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.Z.get(r,{params:e})},i=function(e){return a.Z.get("".concat(r,"/").concat(e))},s=function(e){return a.Z.post(r,e)},u=function(e){return a.Z.patch(r,e)},l=function(e){return a.Z.delete("".concat(r,"/").concat(e))},d=function(e){return a.Z.get("".concat(r,"/export-excel"),(0,c.Z)({params:e},{responseType:"blob"}))}}}]);
//# sourceMappingURL=941.6b7bbfc9.chunk.js.map