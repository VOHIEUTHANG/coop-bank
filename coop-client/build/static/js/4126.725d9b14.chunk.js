"use strict";(self.webpackChunkshopdunk=self.webpackChunkshopdunk||[]).push([[4126],{4126:function(e,t,n){n.r(t),n.d(t,{default:function(){return P}});var a=n(9439),r=n(2791),c=n(9434),o=(n(8356),n(1453),n(7544)),i=1,s=2,u=3,l=1,d=2,f=3,g=4,p=n(4238),m=n(184),h=function(e){var t=e.loading,n=e.data,a=e.totalPages,h=e.itemsPerPage,_=e.page,b=e.totalItems,x=e.onChangePage,y=(e.onRefresh,e.exportExcel),v=((0,c.I0)(),(0,r.useMemo)((function(){return[{header:"STT",classNameHeader:"cb_text_center",classNameBody:"cb_text_center",formatter:function(e,t){return(0,m.jsx)("span",{className:"cb_text_wrap",children:t+1})}},{header:"T\xean \u0111\u1ed1i t\u01b0\u1ee3ng",classNameHeader:"cb_text_center",classNameBody:"cb_text_center",formatter:function(e,t){return(0,m.jsx)("span",{style:{textDecoration:"underline",cursor:"pointer",color:"var(--greenColor)"},onClick:function(){switch(e.object_type){case i:return window.open("/representative/detail/".concat(e.id),"_blank","noreferrer");case u:return window.open("/affiliate-unit/detail/".concat(e.id),"_blank","noreferrer");case s:return window.open("/individual/detail/".concat(e.id),"_blank","noreferrer");default:p.CF.info("\u0110\u1ed1i t\u01b0\u1ee3ng kh\xf4ng x\xe1c \u0111\u1ecbnh")}},children:e.name})}},{header:"Lo\u1ea1i \u0111\u1ed1i t\u01b0\u1ee3ng",classNameHeader:"cb_text_center",classNameBody:"cb_text_center",formatter:function(e,t){return(0,m.jsx)("span",{className:"cb_text_wrap",children:e.object_type===i?"Hi\u1ec7u tr\u01b0\u1edfng":e.object_type===s?"C\xe1 nh\xe2n":"\u0110\u01a1n v\u1ecb li\xean k\u1ebft"})}},{header:"Lo\u1ea1i ng\xe0y \u0111\u1eb7c bi\u1ec7t",classNameHeader:"cb_text_center",classNameBody:"cb_text_center",formatter:function(e,t){return(0,m.jsx)("span",{className:"cb_text_wrap",children:e.date_type===l?"Ng\xe0y sinh nh\u1eadt":e.date_type===d?"Ng\xe0y th\xe0nh l\u1eadp":e.date_type===f?"Ng\xe0y b\u1eaft \u0111\u1ea7u nhi\u1ec7m k\u1ef3":e.date_type===g?"Ng\xe0y k\u1ebft th\xfac nhi\u1ec7m k\u1ef3":"Kh\xf4ng x\xe1c \u0111\u1ecbnh"})}},{header:"Ng\xe0y \u0111\u1eb7c bi\u1ec7t",accessor:"date",classNameHeader:"cb_text_center",classNameBody:"cb_text_center"},{header:"Ng\xe0y c\xf2n l\u1ea1i",accessor:"day_count",classNameHeader:"cb_text_center",classNameBody:"cb_text_center",formatter:function(e){return"".concat(e.day_count," ng\xe0y")}}]}),[])),P=(0,r.useMemo)((function(){return[{globalAction:!0,icon:"fi fi-rr-inbox-out",type:"success",content:"Xu\u1ea5t excel",outline:!0,onClick:y}]}),[y]);return(0,m.jsx)(o.Z,{loading:t,columns:v,data:n,actions:P,totalPages:a,itemsPerPage:h,page:_,totalItems:b,onChangePage:x})},_=n(345),b=n(2426),x=n.n(b),y=n(1413),v=function(e){var t=e.data,n=e.itemsPerPage,c=void 0===n?5:n,o=null!==t&&void 0!==t&&t.length?t.map((function(e,t){return(0,y.Z)((0,y.Z)({},e),{},{dataIndex:t})})):[],i=(0,r.useState)(1),s=(0,a.Z)(i,2),u=s[0],l=s[1],d=o.length,f=Math.ceil(d/c),g=o.slice((u-1)*c,u*c);return{items:g,rows:g,itemsPerPage:c,page:u,onChangePage:function(e){l(e)},totalPages:f,totalItems:d}},P=function(){var e=(0,r.useState)(p.Tb),t=(0,a.Z)(e,2),n=t[0],c=(t[1],(0,r.useState)(p.U1)),o=(0,a.Z)(c,2),i=o[0],s=o[1],u=(0,r.useState)(!0),l=(0,a.Z)(u,2),d=l[0],f=l[1],g=v({data:i,itemsPerPage:p.Tb.limit}),b=g.items,y=g.itemsPerPage,P=g.page,N=g.totalItems,Z=g.totalPages,k=g.onChangePage,w=(0,r.useCallback)((function(){f(!0),(0,_.gp)(n).then(s).finally((function(){f(!1)}))}),[n]);(0,r.useEffect)(w,[w]);return(0,m.jsx)("div",{className:"cb_main_wrapp",children:(0,m.jsx)(h,{onChangePage:k,exportExcel:function(){(0,_.rD)().then((function(e){var t=window.URL.createObjectURL(new Blob([null===e||void 0===e?void 0:e.data])),n=document.createElement("a");n.href=t;var a=x()().format("DDMMYYYY");n.setAttribute("download","special_day_".concat(a,".xlsx")),document.body.appendChild(n),n.click()})).catch((function(e){p.CF.error("L\u1ed7i xu\u1ea5t t\u1eadp tin.")}))},data:b,totalPages:Z,itemsPerPage:y,page:P,totalItems:N,loading:d,onRefresh:w})})}},1453:function(e,t,n){n.d(t,{Ee:function(){return l},FO:function(){return i},Ue:function(){return s},Vx:function(){return u},gp:function(){return o},rD:function(){return d},uz:function(){return f}});var a=n(1413),r=n(3326),c="/gift",o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.Z.get(c,{params:e})},i=function(e){return r.Z.get("".concat(c,"/").concat(e))},s=function(e){return r.Z.post(c,e)},u=function(e){return r.Z.patch(c,e)},l=function(e){return r.Z.delete("".concat(c,"/").concat(e))},d=function(e){return r.Z.get("".concat(c,"/export-excel"),(0,a.Z)({params:e},{responseType:"blob"}))},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.Z.get(c+"/export-form/".concat(e),(0,a.Z)({params:t},{responseType:"blob"}))}},345:function(e,t,n){n.d(t,{gp:function(){return o},jo:function(){return s},rD:function(){return i}});var a=n(1413),r=n(3326),c="/special-day",o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.Z.get(c,{params:e})},i=function(e){return r.Z.get("".concat(c,"/export-excel"),(0,a.Z)({params:e},{responseType:"blob"}))},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.Z.get(c+"/notify-count",{params:e})}}}]);
//# sourceMappingURL=4126.725d9b14.chunk.js.map