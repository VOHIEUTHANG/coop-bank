"use strict";(self.webpackChunkshopdunk=self.webpackChunkshopdunk||[]).push([[4126],{4126:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var a=n(9439),r=n(2791),c=n(4165),o=n(5861),i=n(9434),s=(n(8356),n(1453)),u=n(7544),l=1,d=2,f=3,p=1,g=2,m=3,h=4,_=n(4238),b=n(184),x=function(e){var t,n=e.loading,a=e.data,x=e.totalPages,y=e.itemsPerPage,v=e.page,P=e.totalItems,Z=e.onChangePage,N=e.onRefresh,k=e.exportExcel,w=((0,i.I0)(),(0,r.useMemo)((function(){return[{header:"STT",classNameHeader:"cb_text_center",classNameBody:"cb_text_center",formatter:function(e,t){return(0,b.jsx)("span",{className:"cb_text_wrap",children:t+1})}},{header:"T\xean \u0111\u1ed1i t\u01b0\u1ee3ng",classNameHeader:"cb_text_center",classNameBody:"cb_text_center",formatter:function(e,t){return(0,b.jsx)("span",{style:{textDecoration:"underline",cursor:"pointer",color:"var(--greenColor)"},onClick:function(){switch(e.object_type){case l:return window.open("/representative/detail/".concat(e.id),"_blank","noreferrer");case f:return window.open("/affiliate-unit/detail/".concat(e.id),"_blank","noreferrer");case d:return window.open("/individual/detail/".concat(e.id),"_blank","noreferrer");default:_.CF.info("\u0110\u1ed1i t\u01b0\u1ee3ng kh\xf4ng x\xe1c \u0111\u1ecbnh")}},children:e.name})}},{header:"Lo\u1ea1i \u0111\u1ed1i t\u01b0\u1ee3ng",classNameHeader:"cb_text_center",classNameBody:"cb_text_center",formatter:function(e,t){return(0,b.jsx)("span",{className:"cb_text_wrap",children:e.object_type===l?"Hi\u1ec7u tr\u01b0\u1edfng":e.object_type===d?"C\xe1 nh\xe2n":"\u0110\u01a1n v\u1ecb li\xean k\u1ebft"})}},{header:"Lo\u1ea1i ng\xe0y \u0111\u1eb7c bi\u1ec7t",classNameHeader:"cb_text_center",classNameBody:"cb_text_center",formatter:function(e,t){return(0,b.jsx)("span",{className:"cb_text_wrap",children:e.date_type===p?"Ng\xe0y sinh nh\u1eadt":e.date_type===g?"Ng\xe0y th\xe0nh l\u1eadp":e.date_type===m?"Ng\xe0y b\u1eaft \u0111\u1ea7u nhi\u1ec7m k\u1ef3":e.date_type===h?"Ng\xe0y k\u1ebft th\xfac nhi\u1ec7m k\u1ef3":"Kh\xf4ng x\xe1c \u0111\u1ecbnh"})}},{header:"Ng\xe0y \u0111\u1eb7c bi\u1ec7t",accessor:"date",classNameHeader:"cb_text_center",classNameBody:"cb_text_center"},{header:"Ng\xe0y c\xf2n l\u1ea1i",accessor:"day_count",classNameHeader:"cb_text_center",classNameBody:"cb_text_center",formatter:function(e){return"".concat(e.day_count," ng\xe0y")}}]}),[])),C=((0,r.useCallback)((function(e){return(t=t||(0,o.Z)((0,c.Z)().mark((function e(t){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.Ee)(t);case 2:N();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}),[N]),(0,r.useMemo)((function(){return[{globalAction:!0,icon:"fi fi-rr-inbox-out",type:"success",content:"Xu\u1ea5t excel",outline:!0,onClick:k}]}),[k]));return(0,b.jsx)(u.Z,{loading:n,columns:w,data:a,actions:C,totalPages:x,itemsPerPage:y,page:v,totalItems:P,onChangePage:Z})},y=n(345),v=n(2426),P=n.n(v),Z=n(1413),N=function(e){var t=e.data,n=e.itemsPerPage,c=void 0===n?5:n,o=null!==t&&void 0!==t&&t.length?t.map((function(e,t){return(0,Z.Z)((0,Z.Z)({},e),{},{dataIndex:t})})):[],i=(0,r.useState)(1),s=(0,a.Z)(i,2),u=s[0],l=s[1],d=o.length,f=Math.ceil(d/c),p=o.slice((u-1)*c,u*c);return{items:p,rows:p,itemsPerPage:c,page:u,onChangePage:function(e){l(e)},totalPages:f,totalItems:d}},k=function(){var e=(0,r.useState)(_.Tb),t=(0,a.Z)(e,2),n=t[0],c=(t[1],(0,r.useState)(_.U1)),o=(0,a.Z)(c,2),i=o[0],s=o[1],u=(0,r.useState)(!0),l=(0,a.Z)(u,2),d=l[0],f=l[1],p=N({data:i,itemsPerPage:_.Tb.limit}),g=p.items,m=p.itemsPerPage,h=p.page,v=p.totalItems,Z=p.totalPages,k=p.onChangePage,w=(0,r.useCallback)((function(){f(!0),(0,y.gp)(n).then(s).finally((function(){f(!1)}))}),[n]);(0,r.useEffect)(w,[w]);return(0,b.jsx)("div",{className:"cb_main_wrapp",children:(0,b.jsx)(x,{onChangePage:k,exportExcel:function(){(0,y.rD)().then((function(e){var t=window.URL.createObjectURL(new Blob([null===e||void 0===e?void 0:e.data])),n=document.createElement("a");n.href=t;var a=P()().format("DDMMYYYY");n.setAttribute("download","special_day_".concat(a,".xlsx")),document.body.appendChild(n),n.click()})).catch((function(e){_.CF.error("L\u1ed7i xu\u1ea5t t\u1eadp tin.")}))},data:g,totalPages:Z,itemsPerPage:m,page:h,totalItems:v,loading:d,onRefresh:w})})}},1453:function(e,t,n){n.d(t,{Ee:function(){return l},FO:function(){return i},Ue:function(){return s},Vx:function(){return u},gp:function(){return o},rD:function(){return d},uz:function(){return f}});var a=n(1413),r=n(3326),c="/gift",o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.Z.get(c,{params:e})},i=function(e){return r.Z.get("".concat(c,"/").concat(e))},s=function(e){return r.Z.post(c,e)},u=function(e){return r.Z.patch(c,e)},l=function(e){return r.Z.delete("".concat(c,"/").concat(e))},d=function(e){return r.Z.get("".concat(c,"/export-excel"),(0,a.Z)({params:e},{responseType:"blob"}))},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.Z.get(c+"/export-form/".concat(e),(0,a.Z)({params:t},{responseType:"blob"}))}},345:function(e,t,n){n.d(t,{gp:function(){return o},jo:function(){return s},rD:function(){return i}});var a=n(1413),r=n(3326),c="/special-day",o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.Z.get(c,{params:e})},i=function(e){return r.Z.get("".concat(c,"/export-excel"),(0,a.Z)({params:e},{responseType:"blob"}))},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.Z.get(c+"/notify-count",{params:e})}}}]);
//# sourceMappingURL=4126.50ec238a.chunk.js.map