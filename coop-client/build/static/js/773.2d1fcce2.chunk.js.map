{"version":3,"file":"static/js/773.2d1fcce2.chunk.js","mappings":"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","sources":["pages/User/utils/constants.js","pages/User/components/Filter.jsx","pages/User/components/Table.jsx","pages/User/pages/DefaultPage.jsx","services/user.service.js"],"sourcesContent":["export const DefaultFilter = {\r\n  search: '',\r\n  created_date_from: null,\r\n  created_date_to: null,\r\n};\r\n","import React from 'react';\r\nimport { FormProvider, useForm } from 'react-hook-form';\r\n\r\nimport FilterSearchBar from 'components/shared/FilterSearchBar/index';\r\nimport FormInput from 'components/shared/FormControl/FormInput';\r\nimport FormDateRange from 'components/shared/FormControl/FormDateRange';\r\nimport { DefaultFilter } from '../utils/constants';\r\n\r\nconst AccountingPeriodFilter = ({ onChange }) => {\r\n  const methods = useForm(DefaultFilter);\r\n\r\n  const onClear = () => {\r\n    methods.reset(DefaultFilter);\r\n    onChange(DefaultFilter);\r\n  };\r\n\r\n  return (\r\n    <FormProvider {...methods}>\r\n      <FilterSearchBar\r\n        title='Tìm kiếm'\r\n        onSubmit={(v) => {\r\n          v.search = v.search?.trim();\r\n          onChange(v);\r\n        }}\r\n        colSize={4}\r\n        onClear={() => onClear()}\r\n        actions={[\r\n          {\r\n            title: 'Từ khóa',\r\n            component: <FormInput field='search' placeholder='Nhập mã nhân viên, tên, email' maxLength={250} />,\r\n          },\r\n          {\r\n            title: 'Ngày tạo',\r\n            component: (\r\n              <FormDateRange\r\n                allowClear={true}\r\n                fieldStart={'created_date_from'}\r\n                fieldEnd={'created_date_to'}\r\n                placeholder={['Từ ngày', 'Đến ngày']}\r\n                format={'DD/MM/YYYY'}\r\n              />\r\n            ),\r\n          },\r\n          // {\r\n          //   title: 'Trạng thái',\r\n          //   component: <FormSelect field='is_active' list={statusTypesOption} />,\r\n          // },\r\n        ]}\r\n      />\r\n    </FormProvider>\r\n  );\r\n};\r\n\r\nexport default AccountingPeriodFilter;\r\n","import React, { useCallback } from 'react';\r\nimport { useMemo } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { showConfirmModal } from 'actions/global';\r\nimport { lockUser } from 'services/user.service';\r\nimport DataTable from 'components/shared/DataTable/index';\r\n\r\nconst UserTable = ({ loading, data, totalPages, itemsPerPage, page, totalItems, onChangePage, onRefresh }) => {\r\n  const dispatch = useDispatch();\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        header: 'STT',\r\n        classNameHeader: 'cb_text_center',\r\n        classNameBody: 'cb_text_center',\r\n        formatter: (_, index) => <span className='cb_text_wrap'>{index + 1}</span>,\r\n      },\r\n      {\r\n        header: 'Mã tài khoản',\r\n        classNameHeader: 'cb_text_center',\r\n        accessor: 'username',\r\n      },\r\n      {\r\n        header: 'Họ và tên',\r\n        classNameHeader: 'cb_text_center',\r\n        accessor: 'full_name',\r\n      },\r\n      {\r\n        header: 'Email',\r\n        classNameHeader: 'cb_text_center',\r\n        accessor: 'email',\r\n      },\r\n      {\r\n        header: 'Số điện thoại',\r\n        classNameHeader: 'cb_text_center',\r\n        classNameBody: 'cb_text_center',\r\n        accessor: 'phone_number',\r\n      },\r\n      {\r\n        header: 'Chi nhánh',\r\n        classNameHeader: 'cb_text_center',\r\n        classNameBody: 'cb_text_center',\r\n        accessor: 'branch_name',\r\n      },\r\n      {\r\n        header: 'Trạng thái',\r\n        classNameHeader: 'cb_text_center',\r\n        classNameBody: 'cb_text_center',\r\n        formatter: (p) =>\r\n          p?.is_active ? (\r\n            <span class='cb_label_outline cb_label_outline_success text-center'>Kích hoạt</span>\r\n          ) : (\r\n            <span class='cb_label_outline cb_label_outline_danger text-center'>Khóa</span>\r\n          ),\r\n      },\r\n      {\r\n        header: 'Ngày tạo',\r\n        accessor: 'created_at',\r\n        classNameHeader: 'cb_text_center',\r\n        classNameBody: 'cb_text_center',\r\n      },\r\n    ],\r\n    [],\r\n  );\r\n\r\n  const handleDelete = useCallback(\r\n    async (userId) => {\r\n      await lockUser(userId);\r\n      onRefresh();\r\n    },\r\n    [onRefresh],\r\n  );\r\n\r\n  const actions = useMemo(() => {\r\n    return [\r\n      {\r\n        globalAction: true,\r\n        icon: 'ti-plus',\r\n        type: 'success',\r\n        content: 'Thêm mới',\r\n        permission: 'USER_ADD',\r\n        onClick: () => window._$g.rdr(`/user/add`),\r\n      },\r\n      {\r\n        icon: 'ti-write',\r\n        color: 'blue',\r\n        title: 'Sửa',\r\n        permission: 'USER_EDIT',\r\n        onClick: (p) => {\r\n          window._$g.rdr(`/user/edit/${p?.user_id}`);\r\n        },\r\n      },\r\n      {\r\n        icon: 'ti-eye',\r\n        color: 'green',\r\n        title: 'Chi tiết',\r\n        permission: 'USER_VIEW',\r\n        onClick: (p) => {\r\n          window._$g.rdr(`/user/detail/${p?.user_id}`);\r\n        },\r\n      },\r\n      {\r\n        icon: 'ti-lock',\r\n        color: 'red',\r\n        title: 'Khóa',\r\n        permission: 'USER_DEL',\r\n        hidden: (user) => !user.is_active,\r\n        onClick: (_, d) =>\r\n          dispatch(\r\n            showConfirmModal(\r\n              ['Bạn có thực sự muốn khóa?', 'Người dùng sau khi khóa tài khoản sẽ không thể đăng nhập được.'],\r\n              () => handleDelete([_.user_id]),\r\n            ),\r\n          ),\r\n      },\r\n    ];\r\n  }, [dispatch, handleDelete]);\r\n\r\n  return (\r\n    <DataTable\r\n      loading={loading}\r\n      columns={columns}\r\n      data={data}\r\n      actions={actions}\r\n      totalPages={totalPages}\r\n      itemsPerPage={itemsPerPage}\r\n      page={page}\r\n      totalItems={totalItems}\r\n      onChangePage={onChangePage}\r\n    />\r\n  );\r\n};\r\n\r\nexport default UserTable;\r\n","import React from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useCallback } from 'react';\r\nimport { useState } from 'react';\r\n\r\nimport Filter from '../components/Filter';\r\nimport Table from '../components/Table';\r\nimport { getList } from 'services/user.service';\r\nimport { defaultPaging, defaultParams } from 'utils/helpers';\r\n\r\nconst ListPage = () => {\r\n  const [params, setParams] = useState(defaultParams);\r\n  const [dataList, setDataList] = useState(defaultPaging);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const { items, itemsPerPage, page, totalItems, totalPages } = dataList;\r\n\r\n  const getData = useCallback(() => {\r\n    setLoading(true);\r\n    getList(params)\r\n      .then(setDataList)\r\n      .finally(() => {\r\n        setLoading(false);\r\n      });\r\n  }, [params]);\r\n\r\n  useEffect(getData, [getData]);\r\n\r\n  return (\r\n    <div class='cb_main_wrapp'>\r\n      <Filter\r\n        onChange={(e) => {\r\n          setParams((prev) => {\r\n            return {\r\n              ...prev,\r\n              ...e,\r\n            };\r\n          });\r\n        }}\r\n      />\r\n      <Table\r\n        onChangePage={(page) => {\r\n          setParams({\r\n            ...params,\r\n            page,\r\n          });\r\n        }}\r\n        data={items}\r\n        totalPages={totalPages}\r\n        itemsPerPage={itemsPerPage}\r\n        page={page}\r\n        totalItems={totalItems}\r\n        loading={loading}\r\n        onRefresh={getData}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ListPage;\r\n","import httpClient from 'utils/httpClient';\r\n\r\nconst path = '/user';\r\n\r\nexport const getList = (params = {}) => {\r\n  return httpClient.get(path, { params });\r\n};\r\n\r\nexport const getById = (id) => {\r\n  return httpClient.get(`${path}/${id}`);\r\n};\r\nexport const create = (params) => {\r\n  return httpClient.post('auth/signup', params);\r\n};\r\n\r\nexport const update = (params) => {\r\n  return httpClient.patch(path, params);\r\n};\r\n\r\nexport const lockUser = (id) => {\r\n  return httpClient.delete(`${path}/${id}`);\r\n};\r\n\r\nexport const getOptions = (params = {}) => {\r\n  return httpClient.get(path + '/options', { params });\r\n};\r\n\r\nexport const changePassword = (params) => {\r\n  return httpClient.patch(path + `/change-password`, params);\r\n};\r\n"],"names":["DefaultFilter","search","created_date_from","created_date_to","_ref","onChange","methods","useForm","_jsx","FormProvider","_objectSpread","children","FilterSearchBar","title","onSubmit","v","_v$search","trim","colSize","onClear","reset","actions","component","FormInput","field","placeholder","maxLength","FormDateRange","allowClear","fieldStart","fieldEnd","format","_ref2","loading","data","totalPages","itemsPerPage","page","totalItems","onChangePage","onRefresh","dispatch","useDispatch","columns","useMemo","header","classNameHeader","classNameBody","formatter","_","index","className","accessor","p","is_active","class","handleDelete","useCallback","_x","_asyncToGenerator","_regeneratorRuntime","mark","_callee","userId","wrap","_context","prev","next","lockUser","stop","apply","arguments","globalAction","icon","type","content","permission","onClick","window","_$g","rdr","color","concat","user_id","hidden","user","d","showConfirmModal","DataTable","_useState","useState","defaultParams","_useState2","_slicedToArray","params","setParams","_useState3","defaultPaging","_useState4","dataList","setDataList","_useState5","_useState6","setLoading","items","getData","getList","then","finally","useEffect","_jsxs","Filter","e","Table","path","length","undefined","httpClient","get","getById","id","create","post","update","patch","delete","getOptions","changePassword"],"sourceRoot":""}