"use strict";(self.webpackChunkshopdunk=self.webpackChunkshopdunk||[]).push([[117,434],{3039:function(n,e,t){t.r(e),t.d(e,{default:function(){return z}});var r,a=t(1413),i=t(4165),s=t(5861),o=t(2791),c=t(3165),l=t(1134),u=t(4880),f=t(1453),d=t(9439),m=t(655),g=t(6503),h=t(4127),p=t(1694),_=t.n(p),x=t(5169),b=t(184),v=function(n){var e,t=n.field,r=n.validation,a=n.placeholder,i=n.disabled,s=n.className,c=n.style,u=n.rows,f=(0,l.Gc)(),d=f.getFieldState(t,f.formState).error;return o.useEffect((function(){f.register(t,r)}),[f,t,r]),(0,b.jsxs)(o.Fragment,{children:[(0,b.jsx)("textarea",{style:c,rows:u,className:_()(null!==s&&void 0!==s?s:"form-control",{"is-invalid":d}),disabled:i,placeholder:a,value:null!==(e=f.watch(t))&&void 0!==e?e:"",onChange:function(n){f.clearErrors(t),f.setValue(t,n.target.value)}}),d&&(0,b.jsx)(x.Z,{message:null===d||void 0===d?void 0:d.message})]})},Z=t(5653),y=t(9683),w=t(9257),j=function(n){var e=n.disabled,t=n.title,r=n.id,a=((0,l.Gc)(),(0,o.useState)([])),i=(0,d.Z)(a,2),s=i[0],c=i[1],u=(0,o.useState)([]),f=(0,d.Z)(u,2),p=f[0],_=f[1];return(0,o.useEffect)((function(){(0,Z.FW)().then(c),(0,y.FW)().then(_)}),[]),(0,b.jsx)(m.Z,{title:t,id:r,children:(0,b.jsxs)("div",{className:"cb_row",children:[(0,b.jsx)("div",{className:"cb_col_6",children:(0,b.jsx)(g.Z,{label:"\u0110\u01a1n v\u1ecb nh\u1eadn",disabled:e,children:(0,b.jsx)(h.Z,{allowClear:!0,disabled:e,field:"affiliate_unit_id",placeholder:"Ch\u1ecdn \u0111\u01a1n v\u1ecb nh\u1eadn",list:p||[]})})}),(0,b.jsx)("div",{className:"cb_col_6",children:(0,b.jsx)(g.Z,{label:"Ng\u01b0\u1eddi t\u1eb7ng",disabled:e,children:(0,b.jsx)(h.Z,{allowClear:!0,disabled:e,field:"giver_user_id",placeholder:"Ch\u1ecdn ng\u01b0\u1eddi t\u1eb7ng",list:s||[]})})}),(0,b.jsx)("div",{class:"cb_col_6",children:(0,b.jsx)(g.Z,{label:"Ng\xe0y t\u1eb7ng qu\xe0",disabled:e,children:(0,b.jsx)(w.Z,{format:"DD/MM/YYYY",field:"gift_date",placeholder:"dd/mm/yyyy",style:{width:"100%"},bordered:!1,allowClear:!0})})}),(0,b.jsx)("div",{class:"cb_col_12",children:(0,b.jsx)(g.Z,{label:"N\u1ed9i dung q\xf9a t\u1eb7ng",isRequired:!0,disabled:e,children:(0,b.jsx)(v,{rows:3,field:"gift_content",placeholder:"Nh\u1eadp n\u1ed9i dung q\xf9a t\u1eb7ng",validation:{required:"N\u1ed9i dung q\xf9a t\u1eb7ng l\xe0 b\u1eaft bu\u1ed9c"}})})}),(0,b.jsx)("div",{class:"cb_col_12",children:(0,b.jsx)(g.Z,{label:"M\xf4 t\u1ea3 qu\xe0 t\u1eb7ng",disabled:e,children:(0,b.jsx)(v,{rows:4,field:"gift_description",placeholder:"Nh\u1eadp m\xf4 t\u1ea3 qu\xe0 t\u1eb7ng"})})})]})})},O=t(168),C=t(732),E=t(9286),k=t(4238),N=t(7996),F=t(2360).ZP.span(r||(r=(0,O.Z)(["\n  width: 30px;\n  height: 30px;\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  border-radius: 50%;\n  background: rgba(0, 0, 0, 0.2);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: all 0.2 ease;\n  &:hover {\n    background: rgba(0, 0, 0, 1);\n  }\n"]))),K=function(n){var e,t,r,a=n.disabled,c=n.title,u=n.id,f=(0,l.Gc)(),d=f.watch,g=(0,o.useCallback)((function(n){return f.watch(n)?(0,b.jsxs)("div",{style:{width:"100%",height:"100%",position:"relative"},children:[(0,b.jsx)(N.Z,{width:"100%",height:"100%",src:f.watch(n)}),(0,b.jsx)(F,{onClick:function(){a||setTimeout((function(){f.setValue(n,null)}),100)},style:{visibility:a?"hidden":"visible"},children:(0,b.jsx)(C.Z,{style:{fontSize:"16px",color:"white"}})})]}):(0,b.jsx)("div",{style:{width:"100%",height:"100%",border:"1px dashed #ccc",borderRadius:"4px",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,b.jsx)(E.Z,{})})}),[d("gift_image_1"),d("gift_image_2"),d("gift_image_3")]);return(0,b.jsx)(m.Z,{title:c,id:u,children:(0,b.jsxs)("div",{className:"cb_row",children:[(0,b.jsx)("div",{class:"cb_col_12",children:(0,b.jsxs)("div",{style:{display:"flex",gap:"15px"},children:[(0,b.jsx)("div",{className:"cb_load_image cb_mb_2 cb_text_center",children:(0,b.jsxs)("label",{className:"cb_choose_image",children:[!f.watch("gift_image_1")&&(0,b.jsx)("input",{accept:"image/*",type:"file",onChange:function(n){return(e=e||(0,s.Z)((0,i.Z)().mark((function n(e){var t;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,k.y3)(e.target.files[0]);case 2:t=n.sent,f.setValue("gift_image_1",t);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)},disabled:a}),g("gift_image_1")]})}),(0,b.jsx)("div",{className:"cb_load_image cb_mb_2 cb_text_center",children:(0,b.jsxs)("label",{className:"cb_choose_image",children:[!f.watch("gift_image_2")&&(0,b.jsx)("input",{accept:"image/*",type:"file",onChange:function(n){return(t=t||(0,s.Z)((0,i.Z)().mark((function n(e){var t;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,k.y3)(e.target.files[0]);case 2:t=n.sent,f.setValue("gift_image_2",t);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)},disabled:a}),g("gift_image_2")]})}),(0,b.jsx)("div",{className:"cb_load_image cb_mb_2 cb_text_center",children:(0,b.jsxs)("label",{className:"cb_choose_image",children:[!f.watch("gift_image_3")&&(0,b.jsx)("input",{accept:"image/*",type:"file",onChange:function(n){return(r=r||(0,s.Z)((0,i.Z)().mark((function n(e){var t;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,k.y3)(e.target.files[0]);case 2:t=n.sent,f.setValue("gift_image_3",t);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)},disabled:a}),g("gift_image_3")]})})]})}),(0,b.jsx)("div",{class:"cb_col_6"})]})})},z=function(){var n,e=(0,l.cI)(),t=(0,u.TH)().pathname,r=(0,u.UO)().id,d=(0,o.useMemo)((function(){return t.includes("/detail")}),[t]),m=(0,o.useCallback)((function(){r?(0,f.FO)(r).then((function(n){e.reset(n)})):e.reset({is_active:1,is_system:0})}),[r,e]),g=[{title:"Th\xf4ng tin chung",id:"general-info",component:j,fieldActive:["gift_content","giver_user_id","affiliate_unit_id"]},{title:"H\xecnh \u1ea3nh qu\xe0 t\u1eb7ng",id:"images",component:K,fieldActive:["gift_image_1"]}];return(0,o.useEffect)(m,[m]),(0,b.jsx)(l.RV,(0,a.Z)((0,a.Z)({},e),{},{children:(0,b.jsx)(c.Z,{detailForm:g,onSubmit:function(t){return(n=n||(0,s.Z)((0,i.Z)().mark((function n(t){var a,s;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!r){n.next=7;break}return n.next=4,(0,f.Vx)(t);case 4:a="Ch\u1ec9nh s\u1eeda",n.next=11;break;case 7:return n.next=9,(0,f.Ue)(t);case 9:a="Th\xeam m\u1edbi",e.reset({is_active:1,is_system:0});case 11:k.CF.success("".concat(a," th\xe0nh c\xf4ng !")),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),k.CF.error((null===(s=n.t0.message)||void 0===s?void 0:s.constructor)===Array?n.t0.message[0]:n.t0.message||"C\xf3 l\u1ed7i x\u1ea3y ra!");case 17:case"end":return n.stop()}}),n,null,[[0,14]])})))).apply(this,arguments)},disabled:d})}))}},8392:function(n,e,t){t.r(e);t(2791);var r=t(3039),a=t(184);e.default=function(){return(0,a.jsx)(r.default,{})}},9683:function(n,e,t){t.d(e,{Ee:function(){return u},FO:function(){return o},FW:function(){return f},Ue:function(){return c},Vx:function(){return l},gp:function(){return s},uz:function(){return d}});var r=t(1413),a=t(3326),i="/affiliate-unit",s=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.Z.get(i,{params:n})},o=function(n){return a.Z.get("".concat(i,"/").concat(n))},c=function(n){return a.Z.post(i,n)},l=function(n){return a.Z.patch(i,n)},u=function(n){return a.Z.delete("".concat(i,"/").concat(n))},f=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.Z.get(i+"/options",{params:n})},d=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a.Z.get(i+"/export-form/".concat(n),(0,r.Z)({params:e},{responseType:"blob"}))}},1453:function(n,e,t){t.d(e,{Ee:function(){return u},FO:function(){return o},Ue:function(){return c},Vx:function(){return l},gp:function(){return s},rD:function(){return f}});var r=t(1413),a=t(3326),i="/gift",s=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.Z.get(i,{params:n})},o=function(n){return a.Z.get("".concat(i,"/").concat(n))},c=function(n){return a.Z.post(i,n)},l=function(n){return a.Z.patch(i,n)},u=function(n){return a.Z.delete("".concat(i,"/").concat(n))},f=function(n){return a.Z.get("".concat(i,"/export-excel"),(0,r.Z)({params:n},{responseType:"blob"}))}},5653:function(n,e,t){t.d(e,{Cp:function(){return f},FO:function(){return s},FW:function(){return u},Ue:function(){return o},Vx:function(){return c},gp:function(){return i},xh:function(){return l}});var r=t(3326),a="/user",i=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.Z.get(a,{params:n})},s=function(n){return r.Z.get("".concat(a,"/").concat(n))},o=function(n){return r.Z.post("auth/signup",n)},c=function(n){return r.Z.patch(a,n)},l=function(n){return r.Z.delete("".concat(a,"/").concat(n))},u=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.Z.get(a+"/options",{params:n})},f=function(n){return r.Z.patch(a+"/change-password",n)}},278:function(n,e,t){t.d(e,{_y:function(){return b},kr:function(){return s}});var r=t(4942),a=t(7283),i=t(8303),s=new a.E4("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),o=new a.E4("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),c=new a.E4("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),l=new a.E4("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),u=new a.E4("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),f=new a.E4("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),d=new a.E4("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),m=new a.E4("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),g=new a.E4("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),h=new a.E4("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),p=new a.E4("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),_=new a.E4("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),x={zoom:{inKeyframes:s,outKeyframes:o},"zoom-big":{inKeyframes:c,outKeyframes:l},"zoom-big-fast":{inKeyframes:c,outKeyframes:l},"zoom-left":{inKeyframes:d,outKeyframes:m},"zoom-right":{inKeyframes:g,outKeyframes:h},"zoom-up":{inKeyframes:u,outKeyframes:f},"zoom-down":{inKeyframes:p,outKeyframes:_}},b=function(n,e){var t,a=n.antCls,s="".concat(a,"-").concat(e),o=x[e],c=o.inKeyframes,l=o.outKeyframes;return[(0,i.R)(s,c,l,"zoom-big-fast"===e?n.motionDurationFast:n.motionDurationMid),(t={},(0,r.Z)(t,"\n        ".concat(s,"-enter,\n        ").concat(s,"-appear\n      "),{transform:"scale(0)",opacity:0,animationTimingFunction:n.motionEaseOutCirc,"&-prepare":{transform:"none"}}),(0,r.Z)(t,"".concat(s,"-leave"),{animationTimingFunction:n.motionEaseInOutCirc}),t)]}}}]);
//# sourceMappingURL=117.a6ca3aa6.chunk.js.map