"use strict";(self.webpackChunkshopdunk=self.webpackChunkshopdunk||[]).push([[7544],{7544:function(n,e,t){t.d(e,{Z:function(){return A}});var i,l,c,o,r,a=t(1413),s=t(7762),d=t(3433),u=t(9439),f=t(168),h=t(2791),v=t(8888),p=t(5266),b=t(763),m=t.n(b),x=t(2360),_=t(8597),g=t(4664),y=t(184),j=x.ZP.label(i||(i=(0,f.Z)([""]))),k=x.ZP.span(l||(l=(0,f.Z)(["\n  margin-left: ",";\n  opacity: ",";\n  cursor: ",";\n"])),(function(n){return n.levelRecursive}),(function(n){return n.disable?"0.2":"1"}),(function(n){return n.disable?"default":"pointer"})),S=function n(e){var t=e.colSpan,i=e.keyRender,l=e.flag,c=e.noSelect,o=e.hiddenRowSelect,r=e._dataSelect,s=e.setDataSelect,f=e.columns,v=e.valueRender,p=e.findIndex,b=e.rowAction,m=e.renderRowAction,x=e.getChildren,_=e.levelRecursive,S=e.parentField,N=e.onChangeSelect,Z=e.uniqueSelect,C=void 0!==Z&&Z,R=(0,h.useState)(!1),w=(0,u.Z)(R,2),A=w[0],I=w[1],E=(0,h.useState)(void 0),P=(0,u.Z)(E,2),B=P[0],q=P[1],D=(0,h.useState)(!0),M=(0,u.Z)(D,2),F=M[0],H=M[1],T=_?"".concat(9*_+10,"px"):"10px";return(0,h.useEffect)((function(){f.find((function(n){return n.expanded}))&&0!==v.child_count&&!A&&F&&(I(!0),B||x({parent_id:v["".concat(S)]}).then((function(n){return q(null===n||void 0===n?void 0:n.items)})))}),[f,B,x,A,S,v,F]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("tr",{className:l?"cb_checked":"",children:[!c&&(0,y.jsx)("td",{className:"cb_sticky cb_check_sticky",children:(0,y.jsxs)(j,{style:{marginRight:"2px",display:"".concat("function"===typeof o&&o(v)?"none":"")},className:"cb_checkbox",children:[(0,y.jsx)("input",{type:"checkbox",checked:l,onChange:function(n){var e;if(l)r.splice(p,1),s(r),e=r;else{var t=C?[v]:[].concat((0,d.Z)(r),[v]);s(t),e=t}N(e,(0,a.Z)((0,a.Z)({},v),{},{isChecked:n.target.checked?1:0}))}},i),(0,y.jsx)("span",{})]})}),null===f||void 0===f?void 0:f.filter((function(n){return!n.hidden})).map((function(n,e){var t=null!==n&&void 0!==n&&n.classNameBody?null===n||void 0===n?void 0:n.classNameBody:"";return n.formatter?(0,y.jsxs)("td",{style:"function"===typeof(null===n||void 0===n?void 0:n.style)?null===n||void 0===n?void 0:n.style(v):null===n||void 0===n?void 0:n.style,className:t,children:[n.expanded&&(0,y.jsx)(k,{levelRecursive:T,disable:0===v.child_count,onClick:function(){0!==v.child_count&&(I(!A),H(!1),B||x({parent_id:v["".concat(S)]}).then((function(n){return q(null===n||void 0===n?void 0:n.items)})))},className:"fi fi-rr-".concat(A?"minus":"plus","-small cb_show_child")}),(0,y.jsx)("span",{children:null===n||void 0===n?void 0:n.formatter(v,i)})]},"".concat(i).concat(e)):n.accessor?(0,y.jsxs)("td",{style:"function"===typeof(null===n||void 0===n?void 0:n.style)?null===n||void 0===n?void 0:n.style(v):null===n||void 0===n?void 0:n.style,className:t,children:[n.expanded&&(0,y.jsx)(k,{levelRecursive:T,disable:0===v.child_count,onClick:function(){0!==v.child_count&&(I(!A),H(!1),B||x({parent_id:v["".concat(S)]}).then((function(n){return q(null===n||void 0===n?void 0:n.items)})))},className:"fi fi-rr-".concat(A?"minus":"plus","-small cb_show_child")}),v[n.accessor]]},"".concat(i).concat(e)):(0,y.jsx)("td",{style:"function"===typeof(null===n||void 0===n?void 0:n.style)?null===n||void 0===n?void 0:n.style(v):null===n||void 0===n?void 0:n.style,className:t,children:n.expanded&&(0,y.jsx)(k,{levelRecursive:T,disable:0===v.child_count,onClick:function(){0!==v.child_count&&(I(!A),H(!1),B||x({parent_id:v["".concat(S)]}).then((function(n){return q(null===n||void 0===n?void 0:n.items)})))},className:"fi fi-rr-".concat(A?"minus":"plus","-small cb_show_child")})},"".concat(i).concat(e))})),Boolean(null===b||void 0===b?void 0:b.length)&&(0,y.jsx)("td",{style:{minWidth:"".concat(35*b.length,"px")},className:"cb_sticky cb_action_table cb_text_center",children:m(v,i)})]},i),function(){if(A)return Array.isArray(B)&&B.length>0?B.map((function(e){return(0,y.jsx)(n,{colSpan:t,keyRender:i,flag:l,noSelect:c,hiddenRowSelect:o,_dataSelect:r,setDataSelect:s,uniqueSelect:C,columns:f,valueRender:e,findIndex:p,rowAction:b,renderRowAction:m,getChildren:x,levelRecursive:(_||0)+1,parentField:S})})):(0,y.jsx)("tr",{children:(0,y.jsx)("td",{colSpan:t,children:(0,y.jsx)(g.Z,{image:g.Z.PRESENTED_IMAGE_SIMPLE,description:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u"})})})}()]})},N=t(1640),Z=x.ZP.span(c||(c=(0,f.Z)(["\n  display: ",";\n  cursor: pointer;\n  b {\n    color: red;\n  }\n"])),(function(n){return null!==n&&void 0!==n&&n.hidden?"none":""})),C=(0,x.ZP)(_.Z)(o||(o=(0,f.Z)(["\n  margin-right: 6px;\n  .ant-input-number-handler-wrap {\n    display: none !important;\n  }\n"]))),R=x.ZP.div(r||(r=(0,f.Z)(["\n  @keyframes loading {\n    to {\n      background-position-x: -30%;\n    }\n  }\n  .loader {\n    background-color: #ededed;\n    height: 18px;\n    border-radius: 7px;\n    width: 100%;\n  }\n  td .loader {\n    background-color: #ededed;\n    background: linear-gradient(\n        100deg,\n        rgba(255, 255, 255, 0) 40%,\n        rgba(255, 255, 255, 0.5) 50%,\n        rgba(255, 255, 255, 0) 60%\n      )\n      #ededed;\n    background-size: 200% 100%;\n    background-position-x: 180%;\n    animation: 1s loading ease-in-out infinite;\n  }\n"]))),w=function(n){var e,t=n.loading,i=n.title,l=n.columns,c=n.data,o=n.styleAction,r=n.actions,f=n.fieldCheck,b=n.noSelect,x=void 0===b||b,_=n.noPaging,j=n.defaultDataSelect,k=n.showBulkButton,w=n.styleTitle,A=n.page,I=n.totalPages,E=n.totalItems,P=n.itemsPerPage,B=n.onChangeSelect,q=n.onChangePage,D=n.hiddenRowSelect,M=n.handleBulkAction,F=void 0===M?function(){}:M,H=n.hiddenDeleteClick,T=n.getChildren,L=n.parentField,W=n.customSumRow,G=void 0===W?null:W,K=n.uniqueSelect,z=void 0!==K&&K,X=(0,h.useState)(parseInt(A)),J=(0,u.Z)(X,2),O=J[0],Q=J[1],U=(0,h.useState)(null!==j&&void 0!==j?j:[]),V=(0,u.Z)(U,2),Y=V[0],$=V[1],nn=(0,h.useMemo)((function(){return 0!==(Array.isArray(c)&&c).filter((function(n){return"function"!==typeof D||!D(n)})).length&&Y.filter((function(n){return(null!==c&&void 0!==c?c:[]).some((function(e){return f?String(n[f])===String(e[f]):m().isEqual(n,e)}))})).length===(null!==c&&void 0!==c?c:[]).filter((function(n){return!(null!==D&&void 0!==D&&D(n))})).length}),[c,Y]),en=(0,h.useMemo)((function(){return(null!==r&&void 0!==r?r:[]).filter((function(n){return!n.globalAction&&!Boolean("function"!==typeof n.hidden&&n.hidden)}))}),[r]),tn=(0,h.useMemo)((function(){return(x?0:1)+(Boolean(en.length)?1:0)+(null!==l&&void 0!==l?l:[]).length}),[x,en]),ln=(0,h.useCallback)((function(n,e){var t;return null===(t=null!==en&&void 0!==en?en:[])||void 0===t?void 0:t.map((function(t,i){var l=t.hidden,c=t.disabled,o=t.permission,r=t.onClick,a=t.color,s=t.icon,d=t.title,u="function"===typeof l&&l(n),f=!!u||("function"===typeof c?null===c||void 0===c?void 0:c(n):c);return t.tips?(0,y.jsx)(p.Z,{permission:"function"===typeof o?o(n):o,children:(0,y.jsx)(N.Z,{title:u?"":t.tips,children:(0,y.jsx)("a",{disabled:f,onClick:function(t){return f?{}:null===r||void 0===r?void 0:r(n,e)},style:{marginRight:"2px",opacity:"".concat(u?"0.25":"1"),cursor:"".concat(u?"default":"pointer")},title:d,className:"cb_btn_table cb_".concat(a),children:(0,y.jsx)("i",{className:"fi ".concat("function"===typeof s?s(n):s)})})})},i):(0,y.jsx)(p.Z,{permission:"function"===typeof o?o(n):o,children:(0,y.jsx)("a",{disabled:f,onClick:function(t){return f?{}:null===r||void 0===r?void 0:r(n,e)},style:{marginRight:"2px",opacity:"".concat(u?"0.25":"1"),cursor:"".concat(u?"default":"pointer")},title:d,className:"cb_btn_table cb_".concat(a),children:(0,y.jsx)("i",{className:"fi ".concat("function"===typeof s?s(n):s)})})},i)}))}),[en]),cn=(0,h.useMemo)((function(){return c.length<P?c.length:P>E?E:P}),[c,P,E]),on=(0,h.useCallback)((function(n,e){var t=(0,d.Z)(Y),i=t.findIndex((function(e){return f?String(e[f])===String(n[f]):m().isEqual(e,n)})),c=i>=0;return(0,y.jsx)(S,{colSpan:tn,keyRender:e,flag:c,noSelect:x,hiddenRowSelect:D,_dataSelect:t,setDataSelect:$,uniqueSelect:z,columns:l,valueRender:n,findIndex:i,rowAction:en,renderRowAction:ln,getChildren:T,parentField:L,onChangeSelect:B},e)}),[l,Y]),rn=(0,h.useCallback)((function(){var n=(0,d.Z)(Y);if(nn){var e,t=(0,s.Z)(c);try{var i=function(){var t=e.value,i=n.findIndex((function(n){return f?String(n[f])===String(t[f]):m().isEqual(n,t)}));i>=0&&n.splice(i,1),$(n)};for(t.s();!(e=t.n()).done;)i()}catch(a){t.e(a)}finally{t.f()}}else{var l,o=(0,s.Z)(c);try{var r=function(){var e=l.value;null!==D&&void 0!==D&&D(e)||(n.findIndex((function(n){return f?String(n[f])===String(e[f]):m().isEqual(n,e)}))<0&&n.push(e),$(n))};for(o.s();!(l=o.n()).done;)r()}catch(a){o.e(a)}finally{o.f()}}}),[nn,Y,c]);(0,h.useEffect)((function(){null===B||void 0===B||B(Y)}),[B,Y]),(0,h.useEffect)((function(){Q(I?parseInt(A):I)}),[A,I]);var an=(0,h.useCallback)((function(){parseInt(O)!==parseInt(A)&&q(O)}),[O,A]);return(0,y.jsx)(h.Fragment,{children:(0,y.jsxs)(R,{className:"cb_box_card",children:[(0,y.jsxs)("div",{className:"cb_row cb_mt_2 cb_mb_2 cb_align_items_center",children:[(0,y.jsxs)("div",{className:"cb_col_6",style:w,children:[i,Boolean(Y.length)>0&&!z&&(0,y.jsx)("div",{className:"cb_show_record",children:(0,y.jsxs)("p",{className:"cb_choose_record",children:[k&&(0,y.jsxs)("button",{className:"cb_btn cb_btn_success",style:{marginRight:"8px"},type:"button",onClick:function(){F(Y)},children:[(0,y.jsx)("span",{className:"ti-plus"})," Ch\u1ecdn"]}),(0,y.jsx)("b",{children:Y.length})," \u0111ang ch\u1ecdn"," ",(0,y.jsx)("a",{id:"data-table-select",onClick:function(){return $([])},children:"B\u1ecf ch\u1ecdn"})," ",(0,y.jsxs)(Z,{id:"trigger-delete",hidden:H,className:"cb_red cb_delete",onClick:function(){F&&F(Y,"delete")},children:["| ",(0,y.jsx)("b",{children:"Xo\xe1 t\u1ea5t c\u1ea3"})]})]})})]}),(0,y.jsx)("div",{className:"cb_col_6 cb_flex cb_justify_content_right cb_btn_group",style:o,children:null===r||void 0===r?void 0:r.filter((function(n){return n.globalAction&&!n.hidden})).map((function(n,e){return(0,y.jsx)(p.Z,{permission:null===n||void 0===n?void 0:n.permission,children:(0,y.jsx)(v.Z,(0,a.Z)({style:{marginLeft:"3px"}},n))},e)}))})]}),(0,y.jsx)("div",{className:"cb_table_responsive",children:(0,y.jsxs)("table",{className:"cb_table",children:[(0,y.jsx)("thead",{children:(0,y.jsxs)("tr",{children:[!x&&(0,y.jsx)("th",{className:"cb_sticky cb_check_sticky",children:Boolean(c.filter((function(n){return!(null!==D&&void 0!==D&&D(n))})).length&&!z)&&(0,y.jsxs)("label",{className:"cb_checkbox",children:[(0,y.jsx)("input",{type:"checkbox",onChange:function(){return rn()},checked:nn}),(0,y.jsx)("span",{})]})}),null===l||void 0===l?void 0:l.filter((function(n){return!n.hidden})).map((function(n,e){return(0,y.jsx)("th",{style:null===n||void 0===n?void 0:n.styleHeader,className:null!==n&&void 0!==n&&n.classNameHeader?null===n||void 0===n?void 0:n.classNameHeader:"",children:null===n||void 0===n?void 0:n.header},e)})),Boolean(en.length)&&(0,y.jsx)("th",{className:"cb_sticky cb_action_table cb_text_center",children:"Thao t\xe1c"})]})}),t?(0,y.jsx)("tbody",{children:null===(e=Array.from(Array(10).keys()))||void 0===e?void 0:e.map((function(n){var e;return(0,y.jsx)("tr",{className:"tr",children:null===(e=Array.from(Array(tn).keys()))||void 0===e?void 0:e.map((function(n,e){return(0,y.jsx)("td",{className:"td",children:(0,y.jsx)("div",{className:"loader"})},e)}))},n)}))}):function(){var n,e=null===G||void 0===G?void 0:G.reduce((function(n,e){return n.concat(e.colSpan>1?Array.from({length:e.colSpan},(function(n,t){return t+e.index})):[e.index])}),[]);return(null===c||void 0===c?void 0:c.length)>0?(0,y.jsxs)("tbody",{children:[null===c||void 0===c?void 0:c.map((function(n,e){return on(n,e)})),G?(0,y.jsx)("tr",{children:null===l||void 0===l||null===(n=l.filter((function(n){return!n.hidden})))||void 0===n?void 0:n.reduce((function(n,t,i){var l,o,r=G.find((function(n){return n.index===i+1})),s=[];r?s.push((0,y.jsx)("td",{colspan:null!==(l=r.colSpan)&&void 0!==l?l:1,children:(0,y.jsx)("div",{style:r.style?(0,a.Z)((0,a.Z)({},r.style),{},{fontWeight:"bold"}):{fontWeight:"bold"},children:null!==(o=null===r||void 0===r?void 0:r.value)&&void 0!==o?o:null===r||void 0===r?void 0:r.formatter(c)})})):null!==e&&void 0!==e&&e.includes(i+1)||s.push((0,y.jsx)("td",{}));return n.concat(s)}),[])}):null]}):(0,y.jsx)("tbody",{children:(0,y.jsx)("tr",{children:(0,y.jsx)("td",{colSpan:tn,children:(0,y.jsx)(g.Z,{image:g.Z.PRESENTED_IMAGE_SIMPLE,description:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u"})})})})}()]})}),!_&&(0,y.jsxs)("div",{className:"cb_row cb_mt_2 cb_show_table_page",children:[(0,y.jsx)("div",{className:"cb_col_6",children:(0,y.jsxs)("p",{children:["Hi\u1ec3n th\u1ecb ",cn,"/",E," b\u1ea3n ghi"]})}),(0,y.jsx)("div",{className:"cb_col_6 cb_flex cb_justify_content_right cb_align_items_center",children:(0,y.jsxs)("div",{className:"cb_nav_table",children:[(0,y.jsx)("button",{type:"button",disabled:!(1!==O)||!I,onClick:function(){q(parseInt(O)-1)},className:I&&1!==O?"cb_active":"",children:(0,y.jsx)("span",{className:"ti-angle-left"})}),(0,y.jsx)(C,{min:1,onChange:function(n){Q(n)},onPressEnter:function(n){n.preventDefault(),q(O)},onBlur:function(){return an()},value:O,max:I}),(0,y.jsxs)("span",{className:"cb_all_page",children:["/ ",I]}),(0,y.jsx)("button",{type:"button",disabled:parseInt(I)===parseInt(O),onClick:function(){q(parseInt(O)+1)},className:parseInt(I)!==parseInt(O)?"cb_active":"",children:(0,y.jsx)("span",{className:"ti-angle-right"})})]})})]})]})})};w.defaultProps={data:[],onChangeSelect:function(){}};var A=w},5266:function(n,e,t){var i=t(621);e.Z=function(n){var e=(0,i.Z)(n).verify;return function(){var t=n.permission,i=n.any,l=void 0!==i&&i,c=n.children;if(!t)return"function"===typeof c?c(!0):c;for(var o=t?t instanceof Array?t:[t]:[],r=!!o.length,a=0;a<o.length;a++){var s=o[a],d=!0===e({function:s});if(d&&l){r=!0;break}r=r&&d}return!0===r?"function"===typeof c?c(!0===r):c:null}()}}}]);
//# sourceMappingURL=7544.c00232c0.chunk.js.map