{"version":3,"file":"static/js/6201.ce00542f.chunk.js","mappings":"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","sources":["components/shared/Loader/index.js","components/shared/Button/index.js","navigation/CheckAccess.js","pages/SpecialDay/utils/constants.js","pages/SpecialDay/components/Table.jsx","hooks/usePagination.js","pages/SpecialDay/pages/DefaultPage.jsx","services/gift.service.js","services/special-day.service.js"],"sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//import 'assets/cb_css/uicons-regular-rounded.scss'\r\n// /import './style.scss';\r\n\r\nfunction BWLoader({ isPage }) {\r\n  return (\r\n    <div className={`cb_loader ${isPage ? 'page' : 'content'}`}>\r\n      <div className='warpper'>\r\n        <div className='inner' />\r\n        <div className='text'>LOADING</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nBWLoader.propTypes = {\r\n  spinning: PropTypes.bool,\r\n  fullScreen: PropTypes.bool,\r\n};\r\nexport default BWLoader;\r\n","import React, { useMemo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Loader from '../Loader';\r\n\r\nconst Button = ({\r\n  loading,\r\n  disabled,\r\n  submit,\r\n  reset,\r\n  type,\r\n  outline,\r\n  icon,\r\n  content,\r\n  onClick,\r\n  style,\r\n  table,\r\n  ...props\r\n}) => {\r\n  const typeButton = useMemo(() => {\r\n    if (Boolean(reset)) {\r\n      return 'reset';\r\n    } else if (Boolean(submit)) {\r\n      return 'submit';\r\n    } else {\r\n      return 'button';\r\n    }\r\n  }, [submit, reset]);\r\n\r\n  const className = useMemo(() => {\r\n    if (outline) {\r\n      return `cb_btn_outline cb_btn_outline_${type}`;\r\n    } else if (table) {\r\n      return `cb_btn_table cb_${type}`;\r\n    } else {\r\n      return `cb_btn cb_btn_${type}`;\r\n    }\r\n  }, [outline, type]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <button\r\n        disabled={disabled}\r\n        className={`${className} ${props?.className ? props?.className : ''}`}\r\n        type={typeButton}\r\n        onClick={onClick}\r\n        style={disabled ? { ...style, opacity: 0.5, cursor: 'default' } : style}>\r\n        {loading && <Loader />}\r\n        {Boolean(icon) ? <span className={icon} style={{ lineHeight: 0 }}></span> : ''}\r\n        {content}\r\n      </button>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  className: PropTypes.string,\r\n  type: PropTypes.oneOf(['primary', 'danger', 'success', 'warning', 'blue', 'red', 'green']),\r\n  icon: PropTypes.string,\r\n  content: PropTypes.string,\r\n  disabled: PropTypes.bool,\r\n  onClick: PropTypes.func,\r\n  loading: PropTypes.bool,\r\n  outline: PropTypes.bool,\r\n};\r\n\r\nButton.defaultProps = {\r\n  type: 'primary',\r\n  disabled: false,\r\n  loading: false,\r\n  submit: false,\r\n  reset: false,\r\n  outline: false,\r\n  onClick: () => {},\r\n};\r\nexport default Button;\r\n","import useVerifyAccess from 'hooks/useVerifyAccess';\r\n\r\nfunction CheckAccess(props) {\r\n  const { verify } = useVerifyAccess(props);\r\n\r\n  const _render = () => {\r\n    let { permission, any = false, children } = props;\r\n    if (!permission) {\r\n      return typeof children === 'function' ? children(true) : children;\r\n    }\r\n    let permissions = permission ? (permission instanceof Array ? permission : [permission]) : [];\r\n    let result = !!permissions.length;\r\n    for (let i = 0; i < permissions.length; i++) {\r\n      let permission = permissions[i];\r\n      let check = true === verify({ function: permission });\r\n      if (check && any) {\r\n        result = true;\r\n        break;\r\n      }\r\n      result = result && check;\r\n    }\r\n    return true === result ? (typeof children === 'function' ? children(true === result) : children) : null;\r\n  };\r\n  return _render();\r\n}\r\n\r\nexport default CheckAccess;\r\n","export const DefaultFilter = {\r\n  search: '',\r\n  created_date_from: null,\r\n  created_date_to: null,\r\n};\r\n\r\nexport const OBJECT_TYPE = {\r\n  PRINCIPAL: 1,\r\n  INDIVIDUAL: 2,\r\n  AFFILIATE_UNIT: 3,\r\n};\r\n\r\nexport const DATE_TYPE = {\r\n  BIRTH_DATE: 1,\r\n  FOUNDING_DATE: 2,\r\n  EFFECTIVE_DATE_FROM: 3,\r\n  EFFECTIVE_DATE_TO: 4,\r\n};\r\n\r\nexport const Permission = {\r\n  ADD: 'SPECIAL_DAY_ADD',\r\n  EDIT: 'SPECIAL_DAY_EDIT',\r\n  VIEW: 'SPECIAL_DAY_VIEW',\r\n  DELETE: 'SPECIAL_DAY_DEL',\r\n  EXPORT: 'SPECIAL_DAY_EXPORT',\r\n};\r\n","import React, { useCallback } from 'react';\r\nimport { useMemo } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { showConfirmModal } from 'actions/global';\r\nimport { deleteGift } from 'services/gift.service';\r\nimport DataTable from 'components/shared/DataTable/index';\r\nimport { DATE_TYPE, OBJECT_TYPE, Permission } from '../utils/constants';\r\nimport { showToast } from 'utils/helpers';\r\n\r\nconst RepresentativeTable = ({\r\n  loading,\r\n  data,\r\n  totalPages,\r\n  itemsPerPage,\r\n  page,\r\n  totalItems,\r\n  onChangePage,\r\n  onRefresh,\r\n  exportExcel,\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        header: 'STT',\r\n        classNameHeader: 'cb_text_center',\r\n        classNameBody: 'cb_text_center',\r\n        formatter: (_, index) => <span className='cb_text_wrap'>{index + 1}</span>,\r\n      },\r\n      {\r\n        header: 'Tên đối tượng',\r\n        classNameHeader: 'cb_text_center',\r\n        classNameBody: 'cb_text_center',\r\n        formatter: (_, index) => (\r\n          <span\r\n            style={{ textDecoration: 'underline', cursor: 'pointer', color: 'var(--greenColor)' }}\r\n            onClick={() => {\r\n              switch (_.object_type) {\r\n                case OBJECT_TYPE.PRINCIPAL:\r\n                  return window.open(`/representative/detail/${_.id}`, '_blank', 'noreferrer');\r\n                case OBJECT_TYPE.AFFILIATE_UNIT:\r\n                  return window.open(`/affiliate-unit/detail/${_.id}`, '_blank', 'noreferrer');\r\n                case OBJECT_TYPE.INDIVIDUAL:\r\n                  return window.open(`/individual/detail/${_.id}`, '_blank', 'noreferrer');\r\n                default:\r\n                  showToast.info('Đối tượng không xác định');\r\n              }\r\n            }}>\r\n            {_.name}\r\n          </span>\r\n        ),\r\n      },\r\n      {\r\n        header: 'Loại đối tượng',\r\n        classNameHeader: 'cb_text_center',\r\n        classNameBody: 'cb_text_center',\r\n        formatter: (_, index) => (\r\n          <span className='cb_text_wrap'>\r\n            {_.object_type === OBJECT_TYPE.PRINCIPAL\r\n              ? 'Hiệu trưởng'\r\n              : _.object_type === OBJECT_TYPE.INDIVIDUAL\r\n              ? 'Cá nhân'\r\n              : 'Đơn vị liên kết'}\r\n          </span>\r\n        ),\r\n      },\r\n      {\r\n        header: 'Loại ngày đặc biệt',\r\n        classNameHeader: 'cb_text_center',\r\n        classNameBody: 'cb_text_center',\r\n        formatter: (_, index) => (\r\n          <span className='cb_text_wrap'>\r\n            {_.date_type === DATE_TYPE.BIRTH_DATE\r\n              ? 'Ngày sinh nhật'\r\n              : _.date_type === DATE_TYPE.FOUNDING_DATE\r\n              ? 'Ngày thành lập'\r\n              : _.date_type === DATE_TYPE.EFFECTIVE_DATE_FROM\r\n              ? 'Ngày bắt đầu nhiệm kỳ'\r\n              : _.date_type === DATE_TYPE.EFFECTIVE_DATE_TO\r\n              ? 'Ngày kết thúc nhiệm kỳ'\r\n              : 'Không xác định'}\r\n          </span>\r\n        ),\r\n      },\r\n      {\r\n        header: 'Ngày đặc biệt',\r\n        accessor: 'date',\r\n        classNameHeader: 'cb_text_center',\r\n        classNameBody: 'cb_text_center',\r\n      },\r\n      {\r\n        header: 'Ngày còn lại',\r\n        accessor: 'day_count',\r\n        classNameHeader: 'cb_text_center',\r\n        classNameBody: 'cb_text_center',\r\n        formatter: (item) => `${item.day_count} ngày`,\r\n      },\r\n    ],\r\n    [],\r\n  );\r\n\r\n  const handleDelete = useCallback(\r\n    async (Id) => {\r\n      await deleteGift(Id);\r\n      onRefresh();\r\n    },\r\n    [onRefresh],\r\n  );\r\n\r\n  const actions = useMemo(() => {\r\n    return [\r\n      {\r\n        globalAction: true,\r\n        icon: 'fi fi-rr-inbox-out',\r\n        type: 'success',\r\n        content: 'Xuất excel',\r\n        outline: true,\r\n        onClick: exportExcel,\r\n      },\r\n    ];\r\n  }, [exportExcel]);\r\n\r\n  return (\r\n    <DataTable\r\n      loading={loading}\r\n      columns={columns}\r\n      data={data}\r\n      actions={actions}\r\n      totalPages={totalPages}\r\n      itemsPerPage={itemsPerPage}\r\n      page={page}\r\n      totalItems={totalItems}\r\n      onChangePage={onChangePage}\r\n    />\r\n  );\r\n};\r\n\r\nexport default RepresentativeTable;\r\n","import { useState } from 'react';\r\n\r\nconst usePagination = ({ data, itemsPerPage = 5 }) => {\r\n  const _data = data?.length ? data.map((item, index) => ({ ...item, dataIndex: index })) : [];\r\n  const [page, setPage] = useState(1);\r\n\r\n  const totalItems = _data.length;\r\n  const totalPages = Math.ceil(totalItems / itemsPerPage);\r\n  const rows = _data.slice((page - 1) * itemsPerPage, page * itemsPerPage);\r\n\r\n  const onChangePage = (page) => {\r\n    setPage(page);\r\n  };\r\n\r\n  return {\r\n    items: rows,\r\n    rows,\r\n    itemsPerPage,\r\n    page,\r\n    onChangePage,\r\n    totalPages,\r\n    totalItems,\r\n  };\r\n};\r\n\r\nexport default usePagination;\r\n","import React from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useCallback } from 'react';\r\nimport { useState } from 'react';\r\n\r\nimport Table from '../components/Table';\r\nimport { getList, exportExcel as exportGift } from 'services/special-day.service';\r\nimport { defaultPaging, defaultParams, showToast } from 'utils/helpers';\r\nimport moment from 'moment';\r\nimport usePagination from 'hooks/usePagination';\r\n\r\nconst ListPage = () => {\r\n  const [params, setParams] = useState(defaultParams);\r\n  const [dataList, setDataList] = useState(defaultPaging);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const { items, itemsPerPage, page, totalItems, totalPages, onChangePage } = usePagination({\r\n    data: dataList,\r\n    itemsPerPage: defaultParams.limit,\r\n  });\r\n\r\n  const getData = useCallback(() => {\r\n    setLoading(true);\r\n    getList(params)\r\n      .then(setDataList)\r\n      .finally(() => {\r\n        setLoading(false);\r\n      });\r\n  }, [params]);\r\n\r\n  useEffect(getData, [getData]);\r\n\r\n  const exportExcel = () => {\r\n    exportGift()\r\n      .then((response) => {\r\n        const url = window.URL.createObjectURL(new Blob([response?.data]));\r\n        const link = document.createElement('a');\r\n        link.href = url;\r\n        const configDate = moment().format('DDMMYYYY');\r\n        link.setAttribute('download', `special_day_${configDate}.xlsx`);\r\n        document.body.appendChild(link);\r\n        link.click();\r\n      })\r\n      .catch((error) => {\r\n        showToast.error('Lỗi xuất tập tin.');\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className='cb_main_wrapp'>\r\n      <Table\r\n        onChangePage={onChangePage}\r\n        exportExcel={exportExcel}\r\n        data={items}\r\n        totalPages={totalPages}\r\n        itemsPerPage={itemsPerPage}\r\n        page={page}\r\n        totalItems={totalItems}\r\n        loading={loading}\r\n        onRefresh={getData}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ListPage;\r\n","import httpClient from 'utils/httpClient';\r\n\r\nconst path = '/gift';\r\n\r\nexport const getList = (params = {}) => {\r\n  return httpClient.get(path, { params });\r\n};\r\n\r\nexport const getById = (id) => {\r\n  return httpClient.get(`${path}/${id}`);\r\n};\r\nexport const create = (params) => {\r\n  return httpClient.post(path, params);\r\n};\r\n\r\nexport const update = (params) => {\r\n  return httpClient.patch(path, params);\r\n};\r\n\r\nexport const deleteGift = (id) => {\r\n  return httpClient.delete(`${path}/${id}`);\r\n};\r\n\r\nexport const exportExcel = (params) => {\r\n  const header = {\r\n    responseType: `blob`,\r\n  };\r\n  return httpClient.get(`${path}/export-excel`, { params, ...header });\r\n};\r\n\r\nexport const exportForm = (giftId, params = {}) => {\r\n  const header = {\r\n    responseType: `blob`,\r\n  };\r\n\r\n  return httpClient.get(path + `/export-form/${giftId}`, { params, ...header });\r\n};\r\n","import httpClient from 'utils/httpClient';\r\n\r\nconst path = '/special-day';\r\n\r\nexport const getList = (params = {}) => {\r\n  return httpClient.get(path, { params });\r\n};\r\n\r\nexport const exportExcel = (params) => {\r\n  const header = {\r\n    responseType: `blob`,\r\n  };\r\n  return httpClient.get(`${path}/export-excel`, { params, ...header });\r\n};\r\n\r\nexport const getNotifyCount = (params = {}) => {\r\n  return httpClient.get(path + '/notify-count', { params });\r\n};\r\n"],"names":["_ref","isPage","_jsx","className","concat","children","_jsxs","Button","loading","disabled","submit","reset","type","outline","icon","content","onClick","style","table","props","_objectWithoutProperties","_excluded","typeButton","useMemo","Boolean","React","_objectSpread","opacity","cursor","Loader","lineHeight","defaultProps","verify","useVerifyAccess","permission","_props$any","any","permissions","Array","result","length","i","check","function","_render","OBJECT_TYPE","DATE_TYPE","_ref2","data","totalPages","itemsPerPage","page","totalItems","onChangePage","onRefresh","exportExcel","columns","useDispatch","header","classNameHeader","classNameBody","formatter","_","index","textDecoration","color","object_type","window","open","id","showToast","info","name","date_type","accessor","item","day_count","actions","useCallback","_x","_asyncToGenerator","_regeneratorRuntime","mark","_callee","Id","wrap","_context","prev","next","deleteGift","stop","apply","arguments","globalAction","DataTable","_ref$itemsPerPage","_data","map","dataIndex","_useState","useState","_useState2","_slicedToArray","setPage","Math","ceil","rows","slice","items","defaultParams","params","_useState3","defaultPaging","_useState4","dataList","setDataList","_useState5","_useState6","setLoading","_usePagination","usePagination","limit","getData","getList","then","finally","useEffect","Table","exportGift","response","url","URL","createObjectURL","Blob","link","document","createElement","href","configDate","moment","format","setAttribute","body","appendChild","click","catch","error","path","undefined","httpClient","get","getById","create","post","update","patch","delete","responseType","exportForm","giftId","getNotifyCount"],"sourceRoot":""}